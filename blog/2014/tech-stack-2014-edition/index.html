



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://ddrscott.github.io/blog/2014/tech-stack-2014-edition/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.2.6">
    
    
      
        <title>Tech Stack 2014 Edition - Why, Scott, WHY?!?</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.6525f7f6.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="https://ddrscott.github.io/blog/2014/tech-stack-2014-edition/" />
<meta name="twitter:creator" content="@_ddrscott_" />

  
  
  


  </head>
  
    
    
    
      <body data-md-color-primary="blue-grey" data-md-color-accent="orange">
    
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://ddrscott.github.io" title="Why, Scott, WHY?!?" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Why, Scott, WHY?!?
              </span>
              <span class="md-header-nav__topic">
                Tech Stack 2014 Edition
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Why, Scott, WHY?!?
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Vim
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Vim
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/getting-rusty-with-vim/" title="Getting Rusty with Vim" class="md-nav__link">
      Getting Rusty with Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/vim-send-text/" title="Vim Send Text" class="md-nav__link">
      Vim Send Text
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/vim-toggle-movement/" title="Vim Toggle Movement: I Just Want to Go Home" class="md-nav__link">
      Vim Toggle Movement: I Just Want to Go Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/yank-without-jank/" title="Yank Without Jank" class="md-nav__link">
      Yank Without Jank
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/sidescroll/" title="Sensible Horizontal Scroll in Vim" class="md-nav__link">
      Sensible Horizontal Scroll in Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/side-search/" title="Vim Side Search: Making Search Fun Again" class="md-nav__link">
      Vim Side Search: Making Search Fun Again
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/making-a-window-submode/" title="Making a Window Submode in Vim" class="md-nav__link">
      Making a Window Submode in Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/bs-to-the-black-hole/" title="BS to the Black Hole" class="md-nav__link">
      BS to the Black Hole
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/negative-modulo/" title="PSA: Vim Modulo '%' Returns Negative Numbers!" class="md-nav__link">
      PSA: Vim Modulo '%' Returns Negative Numbers!
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      SQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        SQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-lateral/" title="What the SQL?! Lateral Joins" class="md-nav__link">
      What the SQL?! Lateral Joins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-window/" title="What the SQL?! WINDOW" class="md-nav__link">
      What the SQL?! WINDOW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-recursive/" title="What the SQL?! Recursive" class="md-nav__link">
      What the SQL?! Recursive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/join-me-at-union-station/" title="What the SQL?! JOIN me at UNION Station" class="md-nav__link">
      What the SQL?! JOIN me at UNION Station
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      2018
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        2018
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/move-to-mkdocs/" title="Move to MkDocs" class="md-nav__link">
      Move to MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/stream-stats-in-rust/" title="A Rustic Journey Through Stream Stats" class="md-nav__link">
      A Rustic Journey Through Stream Stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/getting-rusty-with-vim/" title="Getting Rusty with Vim" class="md-nav__link">
      Getting Rusty with Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/blog-setup/" title="Dev Blog Tools :: A Quick Tour of My Setup" class="md-nav__link">
      Dev Blog Tools :: A Quick Tour of My Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2018/join-me-at-union-station/" title="What the SQL?! JOIN me at UNION Station" class="md-nav__link">
      What the SQL?! JOIN me at UNION Station
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      2017
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        2017
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/base16-shell/" title="Base16 Shell" class="md-nav__link">
      Base16 Shell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/how-to-get-better-at-anything/" title="How to Get Better At Anything" class="md-nav__link">
      How to Get Better At Anything
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/fzf-dictionary/" title="FZF + WordNet = Dictionary" class="md-nav__link">
      FZF + WordNet = Dictionary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/gnu-screen/" title="GNU Screen" class="md-nav__link">
      GNU Screen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-lateral/" title="What the SQL?!? Lateral Joins" class="md-nav__link">
      What the SQL?!? Lateral Joins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-window/" title="What the SQL?!? WINDOW" class="md-nav__link">
      What the SQL?!? WINDOW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/what-the-sql-recursive/" title="What the SQL?!? Recursive" class="md-nav__link">
      What the SQL?!? Recursive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2017/vim-send-text/" title="Vim Send Text" class="md-nav__link">
      Vim Send Text
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      2016
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        2016
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/negative-modulo/" title="PSA: Vim Modulo '%' Returns Negative Numbers!" class="md-nav__link">
      PSA: Vim Modulo '%' Returns Negative Numbers!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/photography-lightening-talk/" title="Photography Refactored" class="md-nav__link">
      Photography Refactored
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/ruby-abuse/" title="Ruby Abuse: How Not to Write Ruby, But Still Have Fun" class="md-nav__link">
      Ruby Abuse: How Not to Write Ruby, But Still Have Fun
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/making-a-window-submode/" title="Making a Window Submode in Vim" class="md-nav__link">
      Making a Window Submode in Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/ansi-codes-with-character/" title="ANSI Codes with Character" class="md-nav__link">
      ANSI Codes with Character
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/vim-toggle-movement/" title="Vim Toggle Movement: I Just Want to Go Home" class="md-nav__link">
      Vim Toggle Movement: I Just Want to Go Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/yank-without-jank/" title="Yank Without Jank" class="md-nav__link">
      Yank Without Jank
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/sidescroll/" title="Sensible Horizontal Scroll in Vim" class="md-nav__link">
      Sensible Horizontal Scroll in Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/side-search/" title="Vim Side Search: Making Search Fun Again" class="md-nav__link">
      Vim Side Search: Making Search Fun Again
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2016/bs-to-the-black-hole/" title="BS to the Black Hole" class="md-nav__link">
      BS to the Black Hole
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      2014
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        2014
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Tech Stack 2014 Edition
      </label>
    
    <a href="./" title="Tech Stack 2014 Edition" class="md-nav__link md-nav__link--active">
      Tech Stack 2014 Edition
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frameworks" title="Frameworks" class="md-nav__link">
    Frameworks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby-on-rails" title="Ruby on Rails" class="md-nav__link">
    Ruby on Rails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solr-sunspot" title="Solr / Sunspot" class="md-nav__link">
    Solr / Sunspot
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-sunspot-model-config" title="Example Sunspot Model Config" class="md-nav__link">
    Example Sunspot Model Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-sunspot-search" title="Example Sunspot Search" class="md-nav__link">
    Example Sunspot Search
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" title="Redis" class="md-nav__link">
    Redis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#couch-db" title="Couch DB" class="md-nav__link">
    Couch DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apachepassenger" title="Apache/Passenger" class="md-nav__link">
    Apache/Passenger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" title="Node.js" class="md-nav__link">
    Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socketio" title="Socket.io" class="md-nav__link">
    Socket.io
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../octopress-to-the-rescue/" title="Octopress to the Rescue" class="md-nav__link">
      Octopress to the Rescue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frameworks" title="Frameworks" class="md-nav__link">
    Frameworks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby-on-rails" title="Ruby on Rails" class="md-nav__link">
    Ruby on Rails
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solr-sunspot" title="Solr / Sunspot" class="md-nav__link">
    Solr / Sunspot
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-sunspot-model-config" title="Example Sunspot Model Config" class="md-nav__link">
    Example Sunspot Model Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-sunspot-search" title="Example Sunspot Search" class="md-nav__link">
    Example Sunspot Search
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" title="Redis" class="md-nav__link">
    Redis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#couch-db" title="Couch DB" class="md-nav__link">
    Couch DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apachepassenger" title="Apache/Passenger" class="md-nav__link">
    Apache/Passenger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" title="Node.js" class="md-nav__link">
    Node.js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#socketio" title="Socket.io" class="md-nav__link">
    Socket.io
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="tech-stack-2014-edition">Tech Stack 2014 Edition<a class="headerlink" href="#tech-stack-2014-edition" title="Permanent link">&para;</a></h1>
<p>I've built a lot of things, but the most interesting thing is usually what I'm currently working on or have
built recently. With that in mind I thought I'd take a moment to reflect on the technology stack of my current
project.</p>
<!-- more -->

<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The service provided is a mobile eBook store. End users can find, buy and read books in their browser and on mobile app
platforms like iOS and Android.</p>
<h2 id="frameworks">Frameworks<a class="headerlink" href="#frameworks" title="Permanent link">&para;</a></h2>
<p>The framework selection was very organic and was not chosen all at once. I had extensive background in Rails so it made
sense to start there and integrate into other systems via RubyGem plugins when vanilla Rails/Database didn't fit.</p>
<h3 id="ruby-on-rails">Ruby on Rails<a class="headerlink" href="#ruby-on-rails" title="Permanent link">&para;</a></h3>
<p>I've been using this since version 1, and never looked back. Rails and the Ruby language "get" me. They
think the way I do – they complete me. Prior to Ruby I was using Java and writing wrappers that were very
similar Ruby and ActiveRecord/Support so to find a language and framework that did all that and more was a
dream come true.</p>
<p>The discovery was in 2005 which makes it 9 years old. That's like 50 tech years. That
being said. I still have not found another language or framework that does things more
intuitively that Ruby or Rails. Maybe I'm an old dog that can't learn new tricks. Maybe
I'm stuck in my ways. Regardless, I still feel productive and I believe my human clients
agree.</p>
<h3 id="solr-sunspot">Solr / Sunspot<a class="headerlink" href="#solr-sunspot" title="Permanent link">&para;</a></h3>
<p>We started using SQL search and quickly ran into performance walls for the variety queries we needed to perform, so we
needed something else. Lucene is the industry standard in searching. Solr puts a wrapper around Lucene that allows for
dynamic index fields additions and provides more search options. Sunspot integrates all that into ActiveRecord.
It took maybe 10 minutes for us to try out Sunspot in our current catalog modals and made the user search experience
faster.</p>
<p>The thing we miss by not having database queries is table joins. Joins are available in Solr, but have a similar
performance hit as DB. The workaround for joins was to have a wide data set.</p>
<h4 id="example-sunspot-model-config">Example Sunspot Model Config<a class="headerlink" href="#example-sunspot-model-config" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Node</span>
  <span class="n">belongs_to</span> <span class="ss">:title</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Title</span>
  <span class="n">has_many</span> <span class="ss">:nodes</span>
  <span class="n">has_many</span> <span class="ss">:prices</span>

  <span class="n">searchable</span> <span class="k">do</span>
    <span class="n">text</span> <span class="ss">:name</span>
    <span class="n">text</span> <span class="ss">:contributors</span>
    <span class="n">text</span> <span class="ss">:snippet</span>

      <span class="n">integer</span> <span class="ss">:nodes</span><span class="p">,</span> <span class="ss">multiple</span><span class="p">:</span> <span class="kp">true</span> <span class="k">do</span> <span class="n">solr_nodes</span><span class="p">;</span> <span class="k">end</span>
      <span class="n">string</span> <span class="ss">:countries</span><span class="p">,</span> <span class="ss">multiple</span><span class="p">:</span> <span class="kp">true</span> <span class="k">do</span> <span class="n">solr_countries</span><span class="p">;</span> <span class="k">end</span>
      <span class="n">string</span> <span class="ss">:currencies</span><span class="p">,</span> <span class="ss">multiple</span><span class="p">:</span> <span class="kp">true</span> <span class="k">do</span> <span class="n">solr_currencies</span><span class="p">;</span> <span class="k">end</span>
    <span class="no">Price</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="ss">:country</span><span class="p">,</span> <span class="ss">:currency</span><span class="p">)</span><span class="o">.</span><span class="n">uniq</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">price</span><span class="o">|</span>
        <span class="n">double</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">price</span><span class="o">.</span><span class="n">country</span><span class="si">}</span><span class="s2">_</span><span class="si">#{</span><span class="n">price</span><span class="o">.</span><span class="n">currency</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span> <span class="n">solr_country_currency</span><span class="p">(</span><span class="n">price</span><span class="p">);</span> <span class="k">end</span>
    <span class="k">end</span>

    <span class="c1"># ... many other fields</span>

  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">solr_countries</span>
    <span class="n">prices</span><span class="o">.</span><span class="n">pluck</span><span class="p">(</span><span class="ss">:country</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">solr_currencies</span>
    <span class="n">prices</span><span class="o">.</span><span class="n">pluck</span><span class="p">(</span><span class="ss">:currency</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">solr_country_currency</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
    <span class="n">prices</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">country</span><span class="p">:</span> <span class="n">price</span><span class="o">.</span><span class="n">country</span><span class="p">,</span> <span class="ss">currency</span><span class="p">:</span> <span class="n">price</span><span class="o">.</span><span class="n">currency</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">try</span><span class="p">(</span><span class="ss">:price</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Price</span>
  <span class="n">belongs_to</span> <span class="ss">:title</span>
<span class="k">end</span>
</pre></div>

<h4 id="example-sunspot-search">Example Sunspot Search<a class="headerlink" href="#example-sunspot-search" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="no">Title</span><span class="o">.</span><span class="n">search</span> <span class="k">do</span>
    <span class="n">full_text</span><span class="p">(</span><span class="s1">&#39;cats&#39;</span><span class="p">)</span>
    <span class="n">with</span><span class="p">(</span><span class="ss">:US_USD</span><span class="p">)</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p>The Sunspot site has many examples: <a href="http://sunspot.github.io/">http://sunspot.github.io/</a></p>
<h3 id="redis">Redis<a class="headerlink" href="#redis" title="Permanent link">&para;</a></h3>
<p><a href="http://redis.io">http://redis.io</a> describes themselves as:</p>
<blockquote>
<p>Redis is an open source, BSD licensed, advanced key-value store.
It is often referred to as a data structure server since keys can contain
strings, hashes, lists, sets and sorted sets.</p>
</blockquote>
<p>To me this is a remote shared hash, array, stack, and queue. All atomic all almost fast
as locale memory structures. Here's how I'm using it:</p>
<ul>
<li>Rails.cache for reponse caching</li>
<li>Resque queues to off load long jobs to a background process.</li>
<li>System wide mutex via <code>setnx</code> and <code>hsetnx</code> command</li>
<li>Anything that would require a DB lock, I would prefer to let Redis handle the lock. This one concept has allowed my RDBMS to stay small and lean.</li>
<li>...</li>
</ul>
<p>Check out their documentation for more ideas. Every time I read through the docs I come
up with 10 more things I could take off my RDBMS. If only I had could do it over again.</p>
<h3 id="couch-db">Couch DB<a class="headerlink" href="#couch-db" title="Permanent link">&para;</a></h3>
<p>Couch is our dump of raw contents. We only use 20% of Couch's features because the remaining map/reduce portions of the system took long for our data set. I'm sure there are better ways to use it, but in the end one the main features of how it indexes and aggregates data we can't use. Maybe in the future, but we've already moved on.</p>
<p>The feature we do use though is a version controlled document store. We take in various sources of data from an external source, convert it to JSON, add a few state tracking fields, and store it in Couch. Couch make the document retrieval fast and painless.</p>
<h3 id="apachepassenger">Apache/Passenger<a class="headerlink" href="#apachepassenger" title="Permanent link">&para;</a></h3>
<p>I should be using Nginx, but haven't quite gotten around to figuring it out. Apache is fast enough for our needs right now. Passenger is the gold standard in managing multiple Ruby web processes. Nothing too exciting here. It just works.</p>
<h3 id="nodejs">Node.js<a class="headerlink" href="#nodejs" title="Permanent link">&para;</a></h3>
<p><a href="http://nodejs.org/">http://nodejs.org/</a>
This is where the system starts to Frankenstein. We use Node.js for Socket.io</p>
<h3 id="socketio">Socket.io<a class="headerlink" href="#socketio" title="Permanent link">&para;</a></h3>
<p><a href="http://socket.io/">http://socket.io/</a>
Most of the cool factor of your system revolves around the use of Socket.io to bring realtime server push to all our front ends: Browser and Apps. When we have a flash sale or special offer web sockets delivers.</p>
                
                  
                
              
              
                
                  <h2 id="__comments">Comments</h2>
                  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = "https://ddrscott.github.io/blog/2014/tech-stack-2014-edition/";
    this.page.identifier =
      "/blog/2014/tech-stack-2014-edition/";
  };
  (function() {
    var d = document, s = d.createElement("script");
    s.src = "//ddrscottgithubio.disqus.com/embed.js";
    s.setAttribute("data-timestamp", +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../2016/bs-to-the-black-hole/" title="BS to the Black Hole" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                BS to the Black Hole
              </span>
            </div>
          </a>
        
        
          <a href="../octopress-to-the-rescue/" title="Octopress to the Rescue" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Octopress to the Rescue
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014 - 2018 Scott Pierce
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/ddrscott" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/_ddrscott_" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.cae2244d.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../../.."}})</script>
      
        <script src="https://platform.twitter.com/widgets.js"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-50126719-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>