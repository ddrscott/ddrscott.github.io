<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: screen | @_ddrscott_]]></title>
  <link href="http://ddrscott.github.io/blog/categories/screen/atom.xml" rel="self"/>
  <link href="http://ddrscott.github.io/"/>
  <updated>2017-06-12T17:09:43-05:00</updated>
  <id>http://ddrscott.github.io/</id>
  <author>
    <name><![CDATA[Scott Pierce]]></name>
    <email><![CDATA[ddrscott@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[GNU Screen]]></title>
    <link href="http://ddrscott.github.io/blog/2017/gnu-screen/"/>
    <updated>2017-06-01T13:30:00-05:00</updated>
    <id>http://ddrscott.github.io/blog/2017/gnu-screen</id>
    <content type="html"><![CDATA[<p><img class="featured" src="/images/gnu-screen-featured.jpg" width="1024" height="488" title="&lsquo;GNU Screen Featured&rsquo;" ></p>

<blockquote><p>Screen is a full-screen window manager that multiplexes a physical terminal
between several processes, typically interactive shells.</p></blockquote>

<p>TL;DR &ndash; Screen keeps your ssh sessions alive on a host.</p>

<!-- more -->


<h2>Installation</h2>

<p>Most servers have <code>screen</code> installed already. If they don&rsquo;t it can be installed
via <code>apt-get install screen</code>, <code>yum install screen</code>, <code>brew install screen</code>. Sorry
Windows, try Remote Desktop.</p>

<h2>Startup</h2>

<p>Get a terminal on a remote host (or local) then run <code>screen</code></p>

<p><code>sh
screen
</code></p>

<p>If you&rsquo;re not brave, try <code>man screen</code> to read more about.</p>

<p>Once <code>screen</code> has started, you&rsquo;ll want to remember <code>&lt;C-a&gt;?</code>. That is how you get
the screen options menu. It&rsquo;s typed literal hold <code>CTRL</code> and press <code>a</code>. To quit
the <code>screen</code> app, type <code>exit</code>. To keep <code>screen</code> running, type <code>&lt;C-a&gt;d</code> to detach
from the program. To reattach to that session try <code>screen -x</code>.</p>

<h2>Options</h2>

<p>There are tons of options and they&rsquo;re best found by reading the <code>man</code> page or
Googling <code>gnu screen shortcuts</code>. Here&rsquo;s some of my favorites.</p>

<h3>Startup Flags</h3>

<ul>
<li><code>screen -DDR</code>. Force others of the current session and reattach yourself.</li>
<li><code>screen -x</code>. Reattach yourself, but allow others to stay in. This is
  cooperative mode. Good for pairing and much faster than GUI screen sharing.</li>
</ul>


<h3>Control Keys</h3>

<ul>
<li><code>&lt;C-a&gt;&lt;C-c&gt;</code>. Create a &ldquo;tab&rdquo; to have multiple sessions.</li>
<li><code>&lt;C-a&gt;&lt;C-a&gt;</code>. Toggle to previous session.</li>
<li><code>&lt;C-a&gt;&lt;Space&gt;</code>. Switch next session.</li>
<li><code>&lt;C-a&gt;a</code>. Send a literal <code>&lt;C-a&gt;</code> back to shell.</li>
</ul>


<h3>Config File and Pretty Colors</h3>

<p>It&rsquo;s easy to get lost in screen without a status line. So creating this file in
your home directory will help.</p>

<p><strong>~/.screenrc</strong>
<code>text
hardstatus alwayslastline
hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %m-%d %{W}%c %{g}]'
</code></p>

<p>This should give you a pretty statusline at the bottom of your terminal.
Here&rsquo;s what it looks like:
<img class="featured" src="/images/gnu-screen-statusline.jpg" width="1024" height="113" title="&lsquo;GNU Screen Statusline&rsquo;" ></p>

<h2>TMUX</h2>

<p>A strong competitor to <code>screen</code> is <code>tmux</code>. It has a more modern code base and is
actively maintained. The reason I personally don&rsquo;t use it is out of habit and
it&rsquo;s not installed everywhere. <code>screen</code> just works for my work flow.</p>

<h2>References</h2>

<ul>
<li><a href="https://www.gnu.org/software/screen/">https://www.gnu.org/software/screen/</a></li>
<li><a href="http://www.pixelbeat.org/lkdb/screen.html">http://www.pixelbeat.org/lkdb/screen.html</a></li>
<li><a href="http://aperiodic.net/screen/quick_reference">http://aperiodic.net/screen/quick_reference</a></li>
</ul>

]]></content>
  </entry>
  
</feed>