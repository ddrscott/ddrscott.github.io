---
layout: post
title: How To Search Your Source With Grep
date: 2010-11-12 16:44:00.000000000 -06:00
comments: true
categories: 
posterous_id: 33293968
---
<div class="c4">
<h2 class="c1"></h2>
<div><a href=
"http://feedproxy.google.com/~r/readwriteweb/~3/MdOd_lM1lhI/how-to-search-your-source-with.php">
How To Search Your Source With Grep</a></div>
<div class="c2">via <a href="http://www.readwriteweb.com/" class=
"f">ReadWriteWeb</a> by Pete Warden on 11/10/10</div>
<br class="c3">
<p><img src="http://www.readwriteweb.com/hack/grepshot_main.png"
height="88" alt="grepshot_main.png" width="150">One of the joys of
the last decade has been the growing ubiquity of Unix, and one of
its most useful tools is grep. Even if you're using an IDE for your
development, the odds are that you'll be able to search your code
faster and more flexibly once you learn this command line tool.
It's not always obvious how to access all that power though, so
I'll show you some of my favorite techniques. The examples have
been tested on OS X's GNU grep, but should be applicable to most
versions. You can download <a href=
"http://www.cygwin.com/">Cygwin</a> if you want to run this and
other Unix tools on Windows.</p>
<p><em>Sponsor</em><br>
<a href=
"http://d.ads.readwriteweb.com/ck.php?n=22975&amp;cb=22975"><img src="http://d.ads.readwriteweb.com/avw.php?zoneid=14&amp;cb=22975&amp;n=22975"
border="0" alt=""></a></p>
<p><strong><em>grep -inIEr --color=ALWAYS "Foo.*="
source/code/directory/</em></strong></p>
<p>This is the way I use grep most frequently, and first here's
what those cryptic options mean. The lower-case "i" means that the
search is going to be case-insensitive, and the "n" asks the tool
to print the line number next to each match. The big "I" means grep
uses some impressive guesswork to figure out which files are binary
not text, and skips matching those. The upper-case "E" tells the
tool to treat the pattern as a <a href=
"http://www.regular-expressions.info/posix.html">Posix extended
regular expression</a>, since the default of basic is very limited
in what you can express. Finally the lower "r" prepares the tool to
look at all the files and sub-folders within the main directory you
specify. The last option switch causes the matched parts of the
result lines to be highlighted in color.</p>
<p>The third argument is the pattern you want to match, and the
only gotcha to watch out for here is that you need to enclose it in
either single or double quotes to make sure none of the characters
are misinterpreted as shell commands. Learning regular expressions
can be daunting, but knowing that "." matches any single character
and ".*" matches zero or more of any character can get you
surprisingly far. The last argument is the directory that contains
your source code. Here's an example:</p>
<img src="http://www.readwriteweb.com/hack/grepshot.png" height=
"87" alt="grepshot.png" width="610">
<p>The results are all the matching lines in the source code files,
with the file name and line number at the start of each line. On OS
X you can then open them up in your favorite editor by cutting and
pasting the file name into the <strong><em>open</em></strong>
command, eg</p>
<p><strong><em>open maprender/src/maprender.mxml</em></strong></p>
<h2>Context</h2>
<p>Sometimes just seeing a single line isn't enough context to
understand if it's a match you're interested in, and that's where
the <strong><em>-C</em></strong> option comes in handy. You specify
a number of lines to show before and after the match, which gives
you something a bit more like the webpage snippets search engines
show for each result:</p>
<p><strong><em>grep -inIEr --color=ALWAYS -C1 "Foo.*="
source/code/directory/</em></strong></p>
<img src="http://www.readwriteweb.com/hack/grepshot2.png" height=
"282" alt="grepshot2.png" width="610">
<h2>File types</h2>
<p>Often you want to narrow down your search to files written in a
particular language, and this is where you need the
<strong><em>--include</em></strong> option. You specify another
pattern (confusingly it's a <a href=
"http://en.wikipedia.org/wiki/Glob_%28programming%29">glob</a> not
a full regular expression), and only files with names that match it
are searched.</p>
<p><strong><em>grep -inIEr --color=ALWAYS --include="*.php"
"Foo.*=" source/code/directory/</em></strong></p>
<h2>Tell me more!</h2>
<p>This is only scratching the surface of what you can do with
grep, so here's some further reading:</p>
<p><a href=
"http://www.gnu.org/software/grep/manual/html_node/index.html">The
GNU Grep Manual</a></p>
<p><a href="http://www.panix.com/~elflord/unix/grep.html">A
fantastic Grep Tutorial</a></p>
<p><a href=
"http://arstechnica.com/open-source/news/2009/05/command-line-made-easy-five-simple-recipes-for-grep.ars">
Five simple recipes for Grep</a></p>
<strong><a href=
"http://www.readwriteweb.com/hack/2010/11/how-to-search-your-source-with.php#comments-open">Discuss</a></strong>
<p><iframe scrolling="no" marginheight="0" marginwidth="0" src=
"http://feedads.g.doubleclick.net/~ah/f/bh8m03d07dnj95a0qa1ma5k32c/468/60#http%3A%2F%2Fwww.readwriteweb.com%2Fhack%2F2010%2F11%2Fhow-to-search-your-source-with.php"
frameborder="0" height="60" width="100%"></iframe></p>
<div><a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:FFnlKYwJmN0">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?d=FFnlKYwJmN0"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:Ij26kaj3iuU">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?d=Ij26kaj3iuU"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:C2pbw5bZMiI">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?d=C2pbw5bZMiI"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:yIl2AUoC8zA">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?d=yIl2AUoC8zA"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:V_sGLiPBpWU">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?i=MdOd_lM1lhI:aQm0BBzM5Uo:V_sGLiPBpWU"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:gIN9vFwOqvQ">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?i=MdOd_lM1lhI:aQm0BBzM5Uo:gIN9vFwOqvQ"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:F7zBnMyn0Lo">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?i=MdOd_lM1lhI:aQm0BBzM5Uo:F7zBnMyn0Lo"
border="0" alt=""></a> <a href=
"http://feeds.feedburner.com/~ff/readwriteweb?a=MdOd_lM1lhI:aQm0BBzM5Uo:OqabYuBsmOY">
<img src=
"http://feeds.feedburner.com/~ff/readwriteweb?d=OqabYuBsmOY"
border="0" alt=""></a></div>
<img src=
"http://feeds.feedburner.com/~r/readwriteweb/~4/MdOd_lM1lhI"
height="1" alt="" width="1"></div>

